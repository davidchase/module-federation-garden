kind: Module
description: Remote Server
name: remoteserver
type: container
hotReload:
  sync:
  - target: /app
services:
  - name: remoteserver
    args: [npm, run, start]
    devMode:
      sync:
        - target: /app
          source: app
          mode: one-way
    ports:
      - name: http
        protocol: TCP
        containerPort: 5000 
    healthCheck:
      httpGet:
        path: /health
        port: http
    ingresses:
      - path: /
        port: http
        hostname: remoteserver.${var.baseHostname}
    env:
      HOSTNAME: remoteserver.${var.baseHostname}